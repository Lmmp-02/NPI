<?xml version="1.0" encoding="UTF-8"?>
<vxml xmlns="http://www.w3.org/2001/06/vxml" version = "2.1" xml:lang="es-ES">

<link event="help">
    <grammar src="./gramaticas/ayuda.jsgf"/>
</link>
	
	<form id="pregunta_asignatura">
		<block>
			<prompt> 
				Bienvenido al sistema! 
			</prompt>
		</block>
		
		<field name="asignatura">
			<prompt bargein="true"> 
				Sobre qué asignatura deseas información? 
			</prompt> 

			<help>
				<prompt>
           		Di el nombre de una asignatura de cuarto de la rama de CSI, o sus siglas. 
            	Esto es, alguna de las siguientes: Sistemas de simulacion, Vision por computador, 
            	Nuevos Paradigmas de Interaccion, Teoria de la Informacion y la Codificacion, 
            	Procesadores de Lenguajes, y Programacion Tecnica y Cientifica.
        		</prompt>
        		<reprompt/>
			</help>

			<grammar src="./gramaticas/asignatura.jsgf"/>
			
			<nomatch>
				<prompt>He oído algo, pero no se trata de una asignatura conocida.</prompt>
				<reprompt/>
			</nomatch>

			<filled>
                <goto nextitem="confirmar_asignatura"/>
            </filled>

		</field>

		<field name="confirmar_asignatura">
            <grammar src="./gramaticas/confirmacion.jsgf"/>
            <prompt>Has dicho <value expr="asignatura"/>? </prompt>

            <filled>
                <if cond="confirmar_asignatura=='si'">
                    <prompt>Perfecto, continuemos.</prompt>
                <else/>
                    <prompt>De acuerdo, vamos a repetirlo.</prompt>
                    <clear namelist="confirmar_asignatura asignatura"/>
                    <goto nextitem="asignatura"/>
                </if>
            </filled>
        </field>

		<field name="pregunta_sobre">
            <grammar src="./gramaticas/consulta_asignatura.jsgf"/>
            <prompt> Que deseas saber sobre la asignatura? </prompt> 

			<help>
				<prompt>
            	Podemos informar sobre el profesor que la imparte, y sobre los horarios de la misma.
            	Elija una de ambas opciones.
        		</prompt>
        		<reprompt/>
			</help>

            <nomatch>
                <prompt>He oído algo, pero no es una opcion valida.</prompt>
            </nomatch>

        </field>
		
		<filled>

			<if cond="asignatura == 'Nuevos Paradigmas de Interaccion' || asignatura == 'N P I'">
				<if cond="pregunta_sobre == 'profesor'">
					<prompt>El profesor de NPI es Ramon Lopez-Cozar Delgado.</prompt>
				<elseif cond="pregunta_sobre == 'horario'"/>
					<prompt>La asignatura se imparte los jueves de diez y media a doce y media.</prompt>
				</if>
				
			<elseif cond="asignatura == 'Vision por Computador' || asignatura == 'V C'"/>
				<if cond="pregunta_sobre == 'profesor'">
					<prompt>El profesor de VC es Pablo Mesejo Santiago.</prompt>
				<elseif cond="pregunta_sobre == 'horario'"/>
					<prompt>La asignatura se imparte los viernes de ocho y media a diez y media.</prompt>
				</if>
				
			<elseif cond="asignatura == 'Procesadores de Lenguajes' || asignatura == 'P L'"/>
				<if cond="pregunta_sobre == 'profesor'">
					<prompt>El profesor de PL es Ramon Lopez-Cozar Delgado.</prompt>
				<elseif cond="pregunta_sobre == 'horario'"/>
					<prompt>La asignatura se imparte los viernes de doce y media a dos y media.</prompt>
				</if>
				
			<elseif cond="asignatura == 'Programacion Tecnica y Cientifica' || asignatura == 'P T C'"/>
				<if cond="pregunta_sobre == 'profesor'">
					<prompt>El profesor de PTC es Miguel Garcia Silvente.</prompt>
				<elseif cond="pregunta_sobre == 'horario'"/>
					<prompt>La asignatura se imparte los lunes de once y media a una y media.</prompt>
				</if>
				
			<elseif cond="asignatura == 'Simulacion de Sistemas' || asignatura == 'S S' "/>
				<if cond="pregunta_sobre == 'profesor'">
					<prompt>El profesor de SS es Luis Miguel de Campos Ibañez.</prompt>
				<elseif cond="pregunta_sobre == 'horario'"/>
					<prompt>La asignatura se imparte los martes de nueve y media a once y media.</prompt>
				</if>
				
			<elseif cond="asignatura == 'Teoria de la Informacion y la Codificacion' || asignatura == 'T I C'"/>
				<if cond="pregunta_sobre == 'profesor'">
					<prompt>El profesor de TIC es Manuel Pegalajar Cuéllar.</prompt>
				<elseif cond="pregunta_sobre == 'horario'"/>
					<prompt>La asignatura se imparte los miercoles de once y media a una y media.</prompt>
				</if>
			</if>
			
			<!--<if cond="asignatura == 'Nuevos Paradigmas de Interaccion'">
				<prompt>El profesor de NPI es Ramon Lopez Cozar Delgado.</prompt>	
			<elseif cond="asignatura == 'Procesadores de Lenguajes'"/>
				<prompt>El profesor de PL es Ramon Lopez Cozar Delgado.</prompt>
			<elseif cond="asignatura == 'Programacion Tecnica y Cientifica'"/>
				<prompt>El profesor de PTC es Miguel Garcia Silvente.</prompt>
			<elseif cond="asignatura == 'Simulacion de Sistemas'"/>
				<prompt>El profesor de SS es Luis Miguel de Campos Ibañez.</prompt>
			<elseif cond="asignatura == 'Teoria de la Informacion y la Codificacion'"/>
					<prompt>El profesor de TIC es Manuel Pegalajar Cuellar.</prompt>
			<elseif cond="asignatura == 'Vision por Computador'"/>
				<prompt>El profesor de VC es Pablo Mesejo Santiago.</prompt>
			</if>-->
			
			
			<!-- Aqui habria que comprobar si el usuario quiere hacer otra consulta o salir-->
			<prompt>Muchas gracias por haber utilizado nuestra plataforma. Adios</prompt>
			<noinput>
				<exit/>
			</noinput>
			
		</filled>
		
	</form>
</vxml>
